(function(){var c,l,j,i,m=Object.prototype.hasOwnProperty,o=Array.prototype.slice;i=(l=typeof window!=="undefined"&&window!==null)?window:exports;j=l?typeof CoffeeScript!=="undefined"&&CoffeeScript!==null?CoffeeScript:null:require("coffee-script");c=function(){var a;a=this;this.comment=function(){return c.prototype.comment.apply(a,arguments)};this.doctype=function(){return c.prototype.doctype.apply(a,arguments)};this.tag=function(){return c.prototype.tag.apply(a,arguments)};this.text=function(){return c.prototype.text.apply(a,
arguments)};return this};c.version="0.1.3";c.doctypes={"5":"<!DOCTYPE html>",xml:'<?xml version="1.0" encoding="utf-8" ?>',"default":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',transitional:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',strict:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',
frameset:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',"1.1":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',basic:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',mobile:'<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">'};c.tags="a|abbr|acronym|address|applet|area|article|aside|audio|b|base|basefont|bdo|big|blockquote|body|br|button|canvas|caption|center|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|dir|div|dl|dt|em|embed|fieldset|figcaption|figure|font|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|keygen|kbd|label|legend|li|link|map|mark|menu|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strike|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|u|ul|var|video|xmp".split("|");
c.self_closing="area|base|basefont|br|hr|img|input|link|meta".split("|");c.unwrap=function(a){a=String(a);if(a.search(/^(\s)*function/>-1)){a=a.replace(/^(\s)*function(\s)*\(\)(\s)*\{/,"");return a.replace(/\}(\s)*$/,"")}};c.render=function(a,b){var g,e,d,f,h;b=typeof b!=="undefined"&&b!==null?b:{};b.cache=typeof b.cache!=="undefined"&&b.cache!==null?b.cache:false;if((typeof b==="undefined"||b===null?undefined:b.cache)===false||!(typeof(d=this.inst)!=="undefined"&&d!==null)){this.inst=new c;switch(typeof a){case "function":f=
this.unwrap(a);break;case "string":f=typeof j!=="undefined"&&j!==null?j.compile(String(a),{noWrap:"noWrap"}):this.unwrap(a);break;default:f=""}this.func=Function("locals","with(locals) {"+f+"}")}f=(typeof b==="undefined"||b===null?undefined:b.context)||{};h=(typeof b==="undefined"||b===null?undefined:b.locals)||{};d=f;for(e in d)if(m.call(d,e)){f=d[e];this.inst[e]=f}if(typeof(d=h.body)!=="undefined"&&d!==null){this.inst.body=h.body;delete h.body}h.doctype=this.inst.doctype;h.comment=this.inst.comment;
h.text=this.inst.text;h.tag=this.inst.tag;h.coffeescript=this.inst.coffeescript;d=this.tags;g=0;for(e=d.length;g<e;g++)(function(){var k=d[g];return h[k]=function(){var n;n=o.call(arguments,0);return this.tag(k,n)}})();e=this.inst.buffer=[];this.func.call(this.inst,h);e[e.length-1]==="\n"&&e.pop();return e.join("")};c.prototype.text=function(a){this.buffer.push(a);return null};c.prototype.tag=function(a,b){var g,e,d,f;this.text("<"+a);d=b;g=0;for(e=d.length;g<e;g++){f=d[g];typeof f==="object"&&this.text(this.render_attrs(f))}if(function(){for(var h=
0,k=(d=c.self_closing).length;h<k;h++)if(d[h]===a)return true;return false}.call(this))this.text(" />");else{this.text(">");d=b;g=0;for(e=d.length;g<e;g++){f=d[g];switch(typeof f){case "function":f=f.call(this);f==="string"&&this.text(f.toString());break;case "string":this.text(f)}}this.text("</"+a+">")}this.compact||this.text("\n");return null};c.prototype.render_attrs=function(a){var b,g,e;g="";for(b in a)if(m.call(a,b)){e=a[b];g+=" "+b+'="'+e+'"'}return g};c.prototype.doctype=function(a){a=typeof a!==
"undefined"&&a!==null?a:5;this.text(c.doctypes[a]);if(!this.compact)return this.text("\n")};c.prototype.comment=function(a){return this.text("<!--"+a+"--\>")};c.prototype.coffeescript=function(a){return this.script(function(){return this.text("("+String(a)+")();")})};i.CoffeeKup=c;i.version=c.version;i.render=function(a,b){if(!l)return i.CoffeeKup.render(a,b)}}).call(this);
